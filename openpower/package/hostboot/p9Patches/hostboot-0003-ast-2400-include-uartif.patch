From 6e503c6585192b77a73a387da31d1a6935efe1bc Mon Sep 17 00:00:00 2001
From: Matt Ploetz <maploetz@us.ibm.com>
Date: Wed, 26 Oct 2016 16:58:37 -0500
Subject: [PATCH] Add uartif include to ast2400

Change-Id: Ica065fb2dd4402c0fa71466055bcccb573d48101
---
 src/HBconfig              | 7 ++++++-
 src/usr/console/ast2400.C | 1 +
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/src/HBconfig b/src/HBconfig
index 08ab160..5abb512 100644
--- a/src/HBconfig
+++ b/src/HBconfig
@@ -9,9 +9,14 @@ config P9_VPO_COMPILE
     help
         Compile and build image for VPO environment
 
-config BMC_AST2400
+config BMC_AST2500
     default n
     help
+        Compile hostboot support for AST2500 based BMC
+
+config BMC_AST2400
+    default y if (BMC_AST2500)
+    help
         Compile hostboot support for AST2400 based BMC
 
 config P9_SYSTEM
diff --git a/src/usr/console/ast2400.C b/src/usr/console/ast2400.C
index 5e8c0bc..43ec9ef 100644
--- a/src/usr/console/ast2400.C
+++ b/src/usr/console/ast2400.C
@@ -30,6 +30,7 @@
 #include <kernel/console.H>
 #include <devicefw/driverif.H>
 #include <initservice/bootconfigif.H>
+#include <console/uartif.H>
 
 namespace CONSOLE
 {
-- 
1.8.2.2

